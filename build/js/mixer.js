const addButton=document.getElementById("add__address"),slider=document.getElementById("slider"),sliderValue=document.getElementById("slider__value"),sliderRandomizer=document.getElementById("slider__randomizer");let deleteButtons=document.querySelectorAll(".delete-button"),editButtons=document.querySelectorAll(".edit-button"),i=1;const createNode=function(e,t,d){const n=document.createElement(e);return n.classList.add(t),d&&(n.textContent=d),n},createInput=function(){const e=createNode("div","mixer__input"),t=createNode("label","address-label","Destination BTC Address");t.setAttribute("for",`address-${i+1}`),e.appendChild(t);const d=createNode("input","address-input");d.type="text",d.placeholder=`Enter recipient address â„–${i+1}`,d.id=`address-${i+1}`,d.name=`address-${i+1}`,d.setAttribute("required","required"),e.appendChild(d);const n=createNode("label","percentage-label","Percentage value, %");n.setAttribute("for",`percentage-${i+1}`),e.appendChild(n);const l=createNode("input","percentage-input");l.type="number",l.max="100.00",l.id=`percentage-${i+1}`,l.name=`percentage-${i+1}`,l.setAttribute("pattern","\\d{1,2}\\.\\d{1,2}"),l.setAttribute("readonly","readonly"),l.setAttribute("required","required"),e.appendChild(l);const r=createNode("button","edit-button");r.type="button",r.id=`edit-${i+1}`,e.appendChild(r);const o=createNode("button","delete-button");return o.type="button",o.id=`delete-${i+1}`,e.appendChild(o),e},attachEvent=function(){deleteButtons=document.querySelectorAll(".delete-button"),deleteButtons.forEach((e=>{e.removeEventListener("click",deleteButtonClick),e.addEventListener("click",deleteButtonClick)})),editButtons=document.querySelectorAll(".edit-button"),editButtons.forEach((e=>{e.removeEventListener("click",editButtonClick),e.addEventListener("click",editButtonClick)}))},deleteButtonClick=function(e){e.target.parentNode.remove(),i--;document.querySelectorAll(".percentage-input").forEach((e=>{e.setAttribute("value",(100/i).toFixed(2))}))},editButtonClick=function(e){const t=e.target.previousElementSibling;t.removeAttribute("readonly"),t.focus()};addButton.addEventListener("click",(()=>{if(i<=4&&addButton){const e=document.querySelector(".mixer__form-wrapper"),t=createInput();e.appendChild(t),i++;document.querySelectorAll(".percentage-input").forEach((e=>{e.setAttribute("value",(100/i).toFixed(2))})),deleteButtons=document.querySelectorAll(".delete-button"),deleteButtons.forEach((e=>{e.removeEventListener("click",deleteButtonClick),e.addEventListener("click",deleteButtonClick)})),editButtons=document.querySelectorAll(".edit-button"),editButtons.forEach((e=>{e.removeEventListener("click",editButtonClick),e.addEventListener("click",editButtonClick)}))}else addButton.setAttribute("disabled","disabled"),addButton.textContent="Maximum count of addresses"}));const setSliderNote=()=>{const e=document.querySelector(".slider__note");parseFloat(sliderValue.value)<=2?(e.textContent="Slowly",e.style.color="red"):parseFloat(sliderValue.value)<=3.9?(e.textContent="Normal",e.style.color="yellow"):(e.textContent="Fast",e.style.color="green"),console.log(parseFloat(sliderValue.value))};slider.addEventListener("change",(()=>{sliderValue.value=`${slider.value} %`,setSliderNote()})),sliderValue.addEventListener("change",(()=>{slider.value=parseFloat(sliderValue.value),setSliderNote()}));const getRandomNumber=()=>(4*Math.random()+.7).toFixed(3);sliderRandomizer.addEventListener("click",(()=>{sliderValue.value=`${(4*Math.random()+.7).toFixed(3)} %`,slider.value=parseInt(sliderValue.value),setSliderNote()}));